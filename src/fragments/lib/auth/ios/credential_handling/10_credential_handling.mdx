## Credential handling

Amplify Library for Swift securely handles credentials and user identity information. Customers do not need to store, refresh, or delete credentials themselves. Instead, Amplify Library handles these operations using platform capabilities such as [`ASWebAuthenticationSession`](https://developer.apple.com/documentation/authenticationservices/aswebauthenticationsession) for web-based OAuth flows, and [Keychain Services](https://developer.apple.com/documentation/security/keychain_services/) for storing and retrieving sensitive information. Only the host app (or defined app group) can access values that Amplify Library for Swift stores, and Amplify Library also clears credentials if it detects a configuration change such as a new Cognito UserPool or Cognito Identity Pool.

Customers can retrieve stored credentials by invoking [`fetchAuthSession` API](https://docs.amplify.aws/lib/auth/access_credentials/q/platform/ios/), which is the same API that other Amplify Library categories use to retrieve credentials for making calls to backend services like AWS AppSync, Amazon Pinpoint, and Amazon Simple Storage Service (Amazon S3). That API validates stored credentials and returns them if valid. If the credentials are not valid, Amplify Library for Swift will use the stored refresh token to refresh the credentials and return them. If the refresh token is not valid, Amplify Library for Swift will return a session expired error.

Since Amplify Library stores credentials and automatically refreshes them, app users do not have to login every time the app launches. Developers should ensure their applications only perform sensitive API calls with proper controls, such as responding to a user interaction. For example, apps that support “deep linking” should ensure API calls at the destination page don’t perform any unexpected actions.